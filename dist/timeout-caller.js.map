{"version":3,"sources":["../src/timeout-caller.js"],"names":["TimeoutCaller","constructor","calls","register","handler","timeout","s","setTimeout","push","clear","clearTimeout","i","includes","indexOf","splice","length","shift"],"mappings":"AAAA,MAAO,MAAMA,CAAAA,aAAc,CACvBC,WAAW,EAAG,CACV,KAAKC,KAAL,CAAa,EAChB,CAEDC,QAAQ,CAACC,OAAD,CAAUC,OAAO,CAAG,GAApB,CAAyB,CAC7B,KAAMC,CAAAA,CAAC,CAAGC,UAAU,CAACH,OAAD,CAAUC,OAAV,CAApB,CACA,KAAKH,KAAL,CAAWM,IAAX,CAAgBF,CAAhB,EACA,MAAOA,CAAAA,CACV,CAEDG,KAAK,CAACH,CAAC,CAAG,IAAL,CAAW,CACZ,GAAIA,CAAJ,CAAO,CACHI,YAAY,CAACJ,CAAD,CAAZ,CAEA,KAAMK,CAAAA,CAAC,CAAG,KAAKT,KAAL,CAAWU,QAAX,CAAoBN,CAApB,EAAuBO,OAAvB,CAA+BP,CAA/B,CAAV,CACA,GAAIK,CAAC,GAAK,CAAC,CAAX,CAAc,KAAKT,KAAL,CAAWY,MAAX,CAAkBH,CAAlB,CAAqB,CAArB,EACd,MACH,CAED,MAAO,KAAKT,KAAL,CAAWa,MAAX,CAAoB,CAA3B,CAA8B,CAC1BL,YAAY,CAAC,KAAKR,KAAL,CAAWc,KAAX,EAAD,CACf,CACJ,CAvBsB","sourcesContent":["export class TimeoutCaller {\r\n    constructor() {\r\n        this.calls = []\r\n    }\r\n\r\n    register(handler, timeout = 200) {\r\n        const s = setTimeout(handler, timeout)\r\n        this.calls.push(s)\r\n        return s\r\n    }\r\n\r\n    clear(s = null) {\r\n        if (s) {\r\n            clearTimeout(s)\r\n\r\n            const i = this.calls.includes(s).indexOf(s)\r\n            if (i !== -1) this.calls.splice(i, 1)\r\n            return\r\n        }\r\n\r\n        while (this.calls.length > 0) {\r\n            clearTimeout(this.calls.shift())\r\n        }\r\n    }\r\n}\r\n\r\n"],"file":"timeout-caller.js"}