{"version":3,"sources":["../src/paginator.js"],"names":["Paginator","itemsPerPageList","cache","pagination","current","items_per_page","start_order","first","last","next","prev","at_first","at_last","range","start","end","total_items","formatted_total_items","restoreItemsPerPage","queryParams","parseInt","page","$itemsPerPage","indexOf","storeItemsPerPage","get","set","itemsPerPage"],"mappings":"stBAAaA,CAAAA,S,yBACT,mBAAYC,gBAAZ,CAA8BC,KAA9B,CAAqC,iCACjC,KAAKD,gBAAL,CAAwBA,gBAAxB,CACA,KAAKE,UAAL,CAAkB,CACdC,OAAO,CAAE,CADK,CAEdC,cAAc,CAAE,KAAKJ,gBAAL,CAAsB,CAAtB,CAFF,CAIdK,WAAW,CAAE,CAJC,CAKdC,KAAK,CAAE,CALO,CAMdC,IAAI,CAAE,CANQ,CAOdC,IAAI,CAAE,CAPQ,CAQdC,IAAI,CAAE,CARQ,CASdC,QAAQ,CAAE,IATI,CAUdC,OAAO,CAAE,IAVK,CAWdC,KAAK,CAAE,CACHC,KAAK,CAAE,CADJ,CAEHC,GAAG,CAAE,CAFF,CAXO,CAedC,WAAW,CAAE,CAfC,CAgBdC,qBAAqB,CAAE,GAhBT,CAAlB,CAkBA,KAAKf,KAAL,CAAaA,KAAb,CACA,KAAKgB,mBAAL,EACH,C,8EAEef,U,CAAY,CACxB,GAAIA,UAAJ,CAAgB,CACZ,KAAKA,UAAL,CAAkBA,UACrB,CACD,MAAO,KACV,C,8CAEUgB,W,CAAa,CACpB,KAAKhB,UAAL,CAAgBC,OAAhB,CAA0BgB,QAAQ,CAACD,WAAW,CAACE,IAAb,CAAR,CAA6B,CAAvD,CACA,GAAI,KAAKlB,UAAL,CAAgBC,OAAhB,CAA0B,CAA9B,CAAiC,KAAKD,UAAL,CAAgBC,OAAhB,CAA0B,CAA1B,CAEjC,GAAMkB,CAAAA,aAAa,CAAGF,QAAQ,CAACD,WAAW,CAACd,cAAb,CAAR,CAAuC,CAA7D,CACA,GAAI,KAAKJ,gBAAL,CAAsBsB,OAAtB,CAA8BD,aAA9B,IAAiD,CAAC,CAAtD,CAAyD,CACrD,KAAKnB,UAAL,CAAgBE,cAAhB,CAAiCiB,aAAjC,CACA,KAAKE,iBAAL,EACH,CAED,MAAO,KACV,C,iEAEqB,CAClB,KAAKrB,UAAL,CAAgBE,cAAhB,CAAiCe,QAAQ,CAAC,KAAKlB,KAAL,CAAWuB,GAAX,CAAe,gBAAf,CAAD,CAAR,CAA6C,CAA9E,CACA,GAAI,KAAKxB,gBAAL,CAAsBsB,OAAtB,CAA8B,KAAKpB,UAAL,CAAgBE,cAA9C,IAAkE,CAAC,CAAvE,CAA0E,CACtE,KAAKF,UAAL,CAAgBE,cAAhB,CAAiC,KAAKJ,gBAAL,CAAsB,CAAtB,CAAjC,CACA,KAAKuB,iBAAL,EACH,CACJ,C,6DAEmB,CAChB,KAAKtB,KAAL,CAAWwB,GAAX,CAAe,gBAAf,CAAiC,KAAKvB,UAAL,CAAgBE,cAAjD,CACH,C,wCAEOgB,I,CAAM,CACV,KAAKlB,UAAL,CAAgBC,OAAhB,CAA0BiB,IAC7B,C,wDAEeM,Y,CAAc,CAC1B,KAAKxB,UAAL,CAAgBE,cAAhB,CAAiCsB,YAAjC,CACA,KAAKH,iBAAL,EACH,C","sourcesContent":["export class Paginator {\r\n    constructor(itemsPerPageList, cache) {\r\n        this.itemsPerPageList = itemsPerPageList\r\n        this.pagination = {\r\n            current: 1,\r\n            items_per_page: this.itemsPerPageList[0],\r\n\r\n            start_order: 0,\r\n            first: 1,\r\n            last: 1,\r\n            next: 1,\r\n            prev: 1,\r\n            at_first: true,\r\n            at_last: true,\r\n            range: {\r\n                start: 1,\r\n                end: 1,\r\n            },\r\n            total_items: 0,\r\n            formatted_total_items: '0',\r\n        }\r\n        this.cache = cache\r\n        this.restoreItemsPerPage()\r\n    }\r\n\r\n    parsePagination(pagination) {\r\n        if (pagination) {\r\n            this.pagination = pagination\r\n        }\r\n        return this\r\n    }\r\n\r\n    parseQuery(queryParams) {\r\n        this.pagination.current = parseInt(queryParams.page) | 0\r\n        if (this.pagination.current < 1) this.pagination.current = 1\r\n\r\n        const $itemsPerPage = parseInt(queryParams.items_per_page) | 0\r\n        if (this.itemsPerPageList.indexOf($itemsPerPage) !== -1) {\r\n            this.pagination.items_per_page = $itemsPerPage\r\n            this.storeItemsPerPage()\r\n        }\r\n\r\n        return this\r\n    }\r\n\r\n    restoreItemsPerPage() {\r\n        this.pagination.items_per_page = parseInt(this.cache.get('items_per_page')) | 0\r\n        if (this.itemsPerPageList.indexOf(this.pagination.items_per_page) === -1) {\r\n            this.pagination.items_per_page = this.itemsPerPageList[0]\r\n            this.storeItemsPerPage()\r\n        }\r\n    }\r\n\r\n    storeItemsPerPage() {\r\n        this.cache.set('items_per_page', this.pagination.items_per_page)\r\n    }\r\n\r\n    setPage(page) {\r\n        this.pagination.current = page\r\n    }\r\n\r\n    setItemsPerPage(itemsPerPage) {\r\n        this.pagination.items_per_page = itemsPerPage\r\n        this.storeItemsPerPage()\r\n    }\r\n}\r\n"],"file":"paginator.js"}