"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Paginator=void 0;function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}var Paginator=/*#__PURE__*/function(){function Paginator(itemsPerPageList,cache){_classCallCheck(this,Paginator);this.itemsPerPageList=itemsPerPageList;this.pagination={current:1,items_per_page:this.itemsPerPageList[0],start_order:0,first:1,last:1,next:1,prev:1,at_first:true,at_last:true,range:{start:1,end:1},total_items:0,formatted_total_items:"0"};this.cache=cache;this.restoreItemsPerPage()}_createClass(Paginator,[{key:"parsePagination",value:function parsePagination(pagination){if(pagination){this.pagination=pagination}return this}},{key:"parseQuery",value:function parseQuery(queryParams){this.pagination.current=parseInt(queryParams.page)|0;if(this.pagination.current<1)this.pagination.current=1;var $itemsPerPage=parseInt(queryParams.items_per_page)|0;if(this.itemsPerPageList.indexOf($itemsPerPage)!==-1){this.pagination.items_per_page=$itemsPerPage;this.storeItemsPerPage()}return this}},{key:"restoreItemsPerPage",value:function restoreItemsPerPage(){this.pagination.items_per_page=parseInt(this.cache.get("items_per_page"))|0;if(this.itemsPerPageList.indexOf(this.pagination.items_per_page)===-1){this.pagination.items_per_page=this.itemsPerPageList[0];this.storeItemsPerPage()}}},{key:"storeItemsPerPage",value:function storeItemsPerPage(){this.cache.set("items_per_page",this.pagination.items_per_page)}},{key:"setPage",value:function setPage(page){this.pagination.current=page}},{key:"setItemsPerPage",value:function setItemsPerPage(itemsPerPage){this.pagination.items_per_page=itemsPerPage;this.storeItemsPerPage()}}]);return Paginator}();exports.Paginator=Paginator;
//# sourceMappingURL=paginator.js.map