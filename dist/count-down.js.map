{"version":3,"sources":["../src/count-down.js"],"names":["CountDown","intervalCaller","reset","counter","realCounter","callback","enabled","i","register","clear"],"mappings":"stBAAaA,CAAAA,S,yBACT,mBAAYC,cAAZ,CAA4B,iCACxB,KAAKA,cAAL,CAAsBA,cAAtB,CACA,KAAKC,KAAL,EACH,C,2CAED,gBAAQ,CACJ,KAAKC,OAAL,CAAe,CAAf,CACA,KAAKC,WAAL,CAAmB,CAAnB,CACA,KAAKC,QAAL,CAAgB,IAAhB,CACA,KAAKC,OAAL,CAAe,KAClB,C,qBAED,eAAMH,OAAN,CAAeE,QAAf,CAAyB,gBACrB,KAAKF,OAAL,CAAeA,OAAf,CACA,KAAKC,WAAL,CAAmBD,OAAnB,CACA,KAAKE,QAAL,CAAgBA,QAAhB,CACA,KAAKC,OAAL,CAAe,IAAf,CACA,GAAMC,CAAAA,CAAC,CAAG,KAAKN,cAAL,CAAoBO,QAApB,CAA6B,UAAM,CACzC,EAAE,KAAI,CAACJ,WAAP,CACA,KAAI,CAACD,OAAL,CAAe,KAAI,CAACC,WAAL,CAAmB,CAAnB,CAAuB,KAAI,CAACA,WAA5B,CAA0C,CAAzD,CACA,GAAI,KAAI,CAACA,WAAL,GAAqB,CAAzB,CAA4B,CACxB,KAAI,CAACC,QAAL,EACH,CAFD,IAEO,IAAI,KAAI,CAACD,WAAL,CAAmB,CAAvB,CAA0B,CAC7B,KAAI,CAACH,cAAL,CAAoBQ,KAApB,CAA0BF,CAA1B,EACA,KAAI,CAACL,KAAL,EACH,CACJ,CATS,CASP,IATO,CAUb,C","sourcesContent":["export class CountDown {\r\n    constructor(intervalCaller) {\r\n        this.intervalCaller = intervalCaller\r\n        this.reset()\r\n    }\r\n\r\n    reset() {\r\n        this.counter = 0\r\n        this.realCounter = 0\r\n        this.callback = null\r\n        this.enabled = false\r\n    }\r\n\r\n    start(counter, callback) {\r\n        this.counter = counter\r\n        this.realCounter = counter\r\n        this.callback = callback\r\n        this.enabled = true\r\n        const i = this.intervalCaller.register(() => {\r\n            --this.realCounter\r\n            this.counter = this.realCounter > 0 ? this.realCounter : 1\r\n            if (this.realCounter === 0) {\r\n                this.callback()\r\n            } else if (this.realCounter < 0) {\r\n                this.intervalCaller.clear(i)\r\n                this.reset()\r\n            }\r\n        }, 1000)\r\n    }\r\n}\r\n"],"file":"count-down.js"}