{"version":3,"sources":["../src/searcher.js"],"names":["Searcher","constructor","defaultParams","params","stateParams","searching","setParams","setDefault","key","parseQuery","queryParams","isSearching","clear","saveState","isSearchingDeep","length","undefined","arr","i"],"mappings":"AAAA,cAAe,MAAMA,CAAAA,QAAS,CAC1BC,WAAW,EAAG,CACV,KAAKC,aAAL,CAAqB,EAArB,CACA,KAAKC,MAAL,CAAc,EAAd,CACA,KAAKC,WAAL,CAAmB,EAAnB,CACA,KAAKC,SAAL,CAAiB,KACpB,CAED;;;;;OAMAC,SAAS,CAACH,MAAD,CAASI,UAAU,CAAG,IAAtB,CAA4B,CACjC,IAAK,KAAMC,CAAAA,GAAX,GAAkBL,CAAAA,MAAlB,CAA0B,CACtB,KAAKA,MAAL,CAAYK,GAAZ,EAAmBL,MAAM,CAACK,GAAD,CAAzB,CACA,GAAID,UAAJ,CAAgB,CACZ,KAAKL,aAAL,CAAmBM,GAAnB,EAA0BL,MAAM,CAACK,GAAD,CACnC,CACJ,CACD,MAAO,KACV,CAEDC,UAAU,CAACC,WAAD,CAAc,CACpB,IAAK,KAAMF,CAAAA,GAAX,GAAkB,MAAKL,MAAvB,CAA+B,CAC3B,GAAIK,GAAG,GAAIE,CAAAA,WAAX,CAAwB,CACpB,KAAKP,MAAL,CAAYK,GAAZ,EAAmBE,WAAW,CAACF,GAAD,CAA9B,CACA,KAAKJ,WAAL,CAAiBI,GAAjB,EAAwBE,WAAW,CAACF,GAAD,CACtC,CACJ,CAED,KAAKH,SAAL,CAAiB,KAAKM,WAAL,EAAjB,CACA,MAAO,KACV,CAEDC,KAAK,EAAG,CACJ,IAAK,KAAMJ,CAAAA,GAAX,GAAkB,MAAKL,MAAvB,CAA+B,CAC3B,KAAKA,MAAL,CAAYK,GAAZ,EAAmB,KAAKN,aAAL,CAAmBM,GAAnB,CACtB,CACD,MAAO,KACV,CAEDK,SAAS,EAAG,CACR,IAAK,KAAML,CAAAA,GAAX,GAAkB,MAAKL,MAAvB,CAA+B,CAC3B,KAAKC,WAAL,CAAiBI,GAAjB,EAAwB,KAAKL,MAAL,CAAYK,GAAZ,CAC3B,CAED,KAAKH,SAAL,CAAiB,KAAKM,WAAL,EAAjB,CACA,MAAO,KACV,CAEDA,WAAW,EAAG,CACV,MAAO,MAAKG,eAAL,CAAqB,KAAKV,WAA1B,CACV,CAEDU,eAAe,CAACX,MAAD,CAAS,CACpB,IAAK,KAAMK,CAAAA,GAAX,GAAkBL,CAAAA,MAAlB,CAA0B,CACtB,GAAI,MAAOA,CAAAA,MAAM,CAACK,GAAD,CAAb,GAAuB,QAA3B,CAAqC,CACjC,GAAIL,MAAM,CAACK,GAAD,CAAN,CAAYO,MAAZ,GAAuBC,SAA3B,CAAsC,CAAE;AACpC,GAAIb,MAAM,CAACK,GAAD,CAAN,CAAYO,MAAZ,GAAuB,CAA3B,CAA8B,CAC1B,KAAME,CAAAA,GAAG,CAAGd,MAAM,CAACK,GAAD,CAAlB,CACA,IAAK,KAAMU,CAAAA,CAAX,GAAgBD,CAAAA,GAAhB,CAAqB,CACjB,GAAIA,GAAG,CAACC,CAAD,CAAP,CAAY,CACR,MAAO,KACV,CACJ,CACJ,CACJ,CATD,IASO,CACH,GAAI,KAAKJ,eAAL,CAAqBX,MAAM,CAACK,GAAD,CAA3B,CAAJ,CAAuC,CACnC,MAAO,KACV,CACJ,CACJ,CAfD,IAeO,IAAIL,MAAM,CAACK,GAAD,CAAV,CAAiB,CACpB,MAAO,KACV,CACJ,CACD,MAAO,MACV,CA9EyB","sourcesContent":["export default class Searcher {\r\n    constructor() {\r\n        this.defaultParams = {}\r\n        this.params = {}\r\n        this.stateParams = {}\r\n        this.searching = false\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param params\r\n     * @param setDefault\r\n     * @returns {Searcher}\r\n     */\r\n    setParams(params, setDefault = true) {\r\n        for (const key in params) {\r\n            this.params[key] = params[key]\r\n            if (setDefault) {\r\n                this.defaultParams[key] = params[key]\r\n            }\r\n        }\r\n        return this\r\n    }\r\n\r\n    parseQuery(queryParams) {\r\n        for (const key in this.params) {\r\n            if (key in queryParams) {\r\n                this.params[key] = queryParams[key]\r\n                this.stateParams[key] = queryParams[key]\r\n            }\r\n        }\r\n\r\n        this.searching = this.isSearching()\r\n        return this\r\n    }\r\n\r\n    clear() {\r\n        for (const key in this.params) {\r\n            this.params[key] = this.defaultParams[key]\r\n        }\r\n        return this\r\n    }\r\n\r\n    saveState() {\r\n        for (const key in this.params) {\r\n            this.stateParams[key] = this.params[key]\r\n        }\r\n\r\n        this.searching = this.isSearching()\r\n        return this\r\n    }\r\n\r\n    isSearching() {\r\n        return this.isSearchingDeep(this.stateParams)\r\n    }\r\n\r\n    isSearchingDeep(params) {\r\n        for (const key in params) {\r\n            if (typeof params[key] === 'object') {\r\n                if (params[key].length !== undefined) { // is array\r\n                    if (params[key].length !== 0) {\r\n                        const arr = params[key]\r\n                        for (const i in arr) {\r\n                            if (arr[i]) {\r\n                                return true\r\n                            }\r\n                        }\r\n                    }\r\n                } else {\r\n                    if (this.isSearchingDeep(params[key])) {\r\n                        return true\r\n                    }\r\n                }\r\n            } else if (params[key]) {\r\n                return true\r\n            }\r\n        }\r\n        return false\r\n    }\r\n}\r\n"],"file":"searcher.js"}