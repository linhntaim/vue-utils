{"version":3,"sources":["../src/searcher.js"],"names":["Searcher","defaultParams","params","stateParams","searching","setDefault","key","queryParams","isSearching","isSearchingDeep","length","undefined","arr","i"],"mappings":"6hCAAaA,CAAAA,Q,yBACT,mBAAc,gCACV,KAAKC,aAAL,CAAqB,EAArB,CACA,KAAKC,MAAL,CAAc,EAAd,CACA,KAAKC,WAAL,CAAmB,EAAnB,CACA,KAAKC,SAAL,CAAiB,KACpB,CAED;AACJ;AACA;AACA;AACA;AACA,O,iEACcF,M,CAA2B,IAAnBG,CAAAA,UAAmB,2DAAN,IAAM,CACjC,IAAK,GAAMC,CAAAA,GAAX,GAAkBJ,CAAAA,MAAlB,CAA0B,CACtB,KAAKA,MAAL,CAAYI,GAAZ,EAAmBJ,MAAM,CAACI,GAAD,CAAzB,CACA,GAAID,UAAJ,CAAgB,CACZ,KAAKJ,aAAL,CAAmBK,GAAnB,EAA0BJ,MAAM,CAACI,GAAD,CACnC,CACJ,CACD,MAAO,KACV,C,8CAEUC,W,CAAa,CACpB,IAAK,GAAMD,CAAAA,GAAX,GAAkB,MAAKJ,MAAvB,CAA+B,CAC3B,GAAII,GAAG,GAAIC,CAAAA,WAAX,CAAwB,CACpB,KAAKL,MAAL,CAAYI,GAAZ,EAAmBC,WAAW,CAACD,GAAD,CAA9B,CACA,KAAKH,WAAL,CAAiBG,GAAjB,EAAwBC,WAAW,CAACD,GAAD,CACtC,CACJ,CAED,KAAKF,SAAL,CAAiB,KAAKI,WAAL,EAAjB,CACA,MAAO,KACV,C,qCAEO,CACJ,IAAK,GAAMF,CAAAA,GAAX,GAAkB,MAAKJ,MAAvB,CAA+B,CAC3B,KAAKA,MAAL,CAAYI,GAAZ,EAAmB,KAAKL,aAAL,CAAmBK,GAAnB,CACtB,CACD,MAAO,KACV,C,6CAEW,CACR,IAAK,GAAMA,CAAAA,GAAX,GAAkB,MAAKJ,MAAvB,CAA+B,CAC3B,KAAKC,WAAL,CAAiBG,GAAjB,EAAwB,KAAKJ,MAAL,CAAYI,GAAZ,CAC3B,CAED,KAAKF,SAAL,CAAiB,KAAKI,WAAL,EAAjB,CACA,MAAO,KACV,C,iDAEa,CACV,MAAO,MAAKC,eAAL,CAAqB,KAAKN,WAA1B,CACV,C,wDAEeD,M,CAAQ,CACpB,IAAK,GAAMI,CAAAA,GAAX,GAAkBJ,CAAAA,MAAlB,CAA0B,CACtB,GAAI,QAAOA,MAAM,CAACI,GAAD,CAAb,IAAuB,QAA3B,CAAqC,CACjC,GAAIJ,MAAM,CAACI,GAAD,CAAN,CAAYI,MAAZ,GAAuBC,SAA3B,CAAsC,CAAE;AACpC,GAAIT,MAAM,CAACI,GAAD,CAAN,CAAYI,MAAZ,GAAuB,CAA3B,CAA8B,CAC1B,GAAME,CAAAA,GAAG,CAAGV,MAAM,CAACI,GAAD,CAAlB,CACA,IAAK,GAAMO,CAAAA,CAAX,GAAgBD,CAAAA,GAAhB,CAAqB,CACjB,GAAIA,GAAG,CAACC,CAAD,CAAP,CAAY,CACR,MAAO,KACV,CACJ,CACJ,CACJ,CATD,IASO,CACH,GAAI,KAAKJ,eAAL,CAAqBP,MAAM,CAACI,GAAD,CAA3B,CAAJ,CAAuC,CACnC,MAAO,KACV,CACJ,CACJ,CAfD,IAeO,IAAIJ,MAAM,CAACI,GAAD,CAAV,CAAiB,CACpB,MAAO,KACV,CACJ,CACD,MAAO,MACV,C","sourcesContent":["export class Searcher {\r\n    constructor() {\r\n        this.defaultParams = {}\r\n        this.params = {}\r\n        this.stateParams = {}\r\n        this.searching = false\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param params\r\n     * @param setDefault\r\n     * @returns {Searcher}\r\n     */\r\n    setParams(params, setDefault = true) {\r\n        for (const key in params) {\r\n            this.params[key] = params[key]\r\n            if (setDefault) {\r\n                this.defaultParams[key] = params[key]\r\n            }\r\n        }\r\n        return this\r\n    }\r\n\r\n    parseQuery(queryParams) {\r\n        for (const key in this.params) {\r\n            if (key in queryParams) {\r\n                this.params[key] = queryParams[key]\r\n                this.stateParams[key] = queryParams[key]\r\n            }\r\n        }\r\n\r\n        this.searching = this.isSearching()\r\n        return this\r\n    }\r\n\r\n    clear() {\r\n        for (const key in this.params) {\r\n            this.params[key] = this.defaultParams[key]\r\n        }\r\n        return this\r\n    }\r\n\r\n    saveState() {\r\n        for (const key in this.params) {\r\n            this.stateParams[key] = this.params[key]\r\n        }\r\n\r\n        this.searching = this.isSearching()\r\n        return this\r\n    }\r\n\r\n    isSearching() {\r\n        return this.isSearchingDeep(this.stateParams)\r\n    }\r\n\r\n    isSearchingDeep(params) {\r\n        for (const key in params) {\r\n            if (typeof params[key] === 'object') {\r\n                if (params[key].length !== undefined) { // is array\r\n                    if (params[key].length !== 0) {\r\n                        const arr = params[key]\r\n                        for (const i in arr) {\r\n                            if (arr[i]) {\r\n                                return true\r\n                            }\r\n                        }\r\n                    }\r\n                } else {\r\n                    if (this.isSearchingDeep(params[key])) {\r\n                        return true\r\n                    }\r\n                }\r\n            } else if (params[key]) {\r\n                return true\r\n            }\r\n        }\r\n        return false\r\n    }\r\n}\r\n"],"file":"searcher.js"}