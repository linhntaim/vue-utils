"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Crypto=void 0;var _cryptoJs=_interopRequireDefault(require("crypto-js"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}var Crypto=/*#__PURE__*/function(){function Crypto(){var secret=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;_classCallCheck(this,Crypto);this.secret=secret}_createClass(Crypto,[{key:"getSecret",value:function getSecret(){var secret=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;return secret?secret:this.secret}},{key:"encrypt",value:function encrypt(text){var secret=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;return _cryptoJs["default"].AES.encrypt(text,this.getSecret(secret)).toString()}},{key:"decrypt",value:function decrypt(text){var secret=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;try{return _cryptoJs["default"].AES.decrypt(text,this.getSecret(secret)).toString(_cryptoJs["default"].enc.Utf8)}catch(e){// eslint-disable-next-line no-console
console.log(e);return null}}},{key:"encryptJson",value:function encryptJson(data){var secret=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;return this.encrypt(this.toJson(data),secret)}},{key:"decryptJson",value:function decryptJson(text){var secret=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;return this.fromJson(this.decrypt(text,secret))}},{key:"encodeBase64",value:function encodeBase64(text){return _cryptoJs["default"].enc.Base64.stringify(_cryptoJs["default"].enc.Utf8.parse(text))}},{key:"decodeBase64",value:function decodeBase64(encodedText){return _cryptoJs["default"].enc.Utf8.stringify(_cryptoJs["default"].enc.Base64.parse(encodedText))}},{key:"encodeBase64Json",value:function encodeBase64Json(data){return this.encodeBase64(this.toJson(data))}},{key:"decodeBase64Json",value:function decodeBase64Json(encodedText){return this.fromJson(this.decodeBase64(encodedText))}},{key:"encryptBase64",value:function encryptBase64(text){var secret=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;return this.encodeBase64(this.encrypt(text,secret))}},{key:"decryptBase64",value:function decryptBase64(encodedText){var secret=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;return this.decrypt(this.decodeBase64(encodedText),secret)}},{key:"encryptBase64Json",value:function encryptBase64Json(data){var secret=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;return this.encryptBase64(this.toJson(data),secret)}},{key:"decryptBase64Json",value:function decryptBase64Json(encodedText){var secret=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;return this.fromJson(this.decryptBase64(encodedText,secret))}},{key:"toJson",value:function toJson(data){return JSON.stringify(data)}},{key:"fromJson",value:function fromJson(text){try{return JSON.parse(text)}catch(e){// eslint-disable-next-line no-console
console.log(e);return null}}}]);return Crypto}();exports.Crypto=Crypto;
//# sourceMappingURL=crypto.js.map