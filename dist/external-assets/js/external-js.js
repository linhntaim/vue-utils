"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ExternalJs=void 0;var _scriptPointer=_interopRequireDefault(require("./script-pointer"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}var ExternalJs=/*#__PURE__*/function(){function ExternalJs(){_classCallCheck(this,ExternalJs);this.session={};this.sessionPointer=0}_createClass(ExternalJs,[{key:"add",value:function add(){var _this=this;++this.sessionPointer;this.session[this.sessionPointer]=[];for(var _len=arguments.length,scriptSources=new Array(_len),_key=0;_key<_len;_key++){scriptSources[_key]=arguments[_key]}scriptSources.forEach(function(scriptSrc){if(typeof scriptSrc==="string"){_this.addScript(scriptSrc)}else if(_typeof(scriptSrc)==="object"){Object.keys(scriptSrc).forEach(function(parentScriptSrc){_this.addScript(parentScriptSrc).onload=function(){scriptSrc[parentScriptSrc].forEach(function(childScriptSrc){_this.addScript(childScriptSrc)})}})}});return this.sessionPointer}},{key:"addScript",value:function addScript(scriptSrc){this.session[this.sessionPointer].push(_scriptPointer["default"]=(+_scriptPointer["default"]+1,function(){throw new Error("\""+"scriptPointer"+"\" is read-only.")}()));var scriptElement=document.createElement("script");scriptElement.setAttribute("id","script"+_scriptPointer["default"]);scriptElement.setAttribute("src",scriptSrc);document.body.appendChild(scriptElement);return scriptElement}},{key:"remove",value:function remove(sessionPointer){if(!(sessionPointer in this.session))return;this.session[sessionPointer].forEach(function(ownScriptPointer){document.getElementById("script"+ownScriptPointer).remove()});delete this.session[sessionPointer]}}]);return ExternalJs}();exports.ExternalJs=ExternalJs;
//# sourceMappingURL=external-js.js.map