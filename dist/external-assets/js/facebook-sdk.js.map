{"version":3,"sources":["../../../src/external-assets/js/facebook-sdk.js"],"names":["JsLoader","FacebookSdk","constructor","settings","callback","safeLoad","loaded","currentLocaleCode","localeCode","currentCountryCode","countryCode","remove","Promise","resolve","load","window","fbAsyncInit","FB","init","appId","client_id","status","xfbml","version","api_version","addScript","document","getElementById"],"mappings":"AAAA,OAAQA,QAAR,KAAuB,aAAvB,CAEA,MAAO,MAAMC,CAAAA,WAAN,QAA0BD,CAAAA,QAAS,CACtCE,WAAW,CAACC,QAAQ,CAAG,EAAZ,CAAgB,CACvB,MAAMA,QAAN,EAEA,KAAKC,QAAL,CAAgB,IACnB,CAEDC,QAAQ,EAAG,CACP,GAAI,CAAC,KAAKC,MAAN,EACG,KAAKC,iBAAL,GAA2B,KAAKJ,QAAL,CAAcK,UAD5C,EAEG,KAAKC,kBAAL,GAA4B,KAAKN,QAAL,CAAcO,WAFjD,CAE8D,CAC1D,GAAI,KAAKJ,MAAT,CAAiB,KAAKK,MAAL,GAEjB,KAAKL,MAAL,CAAc,KAAd,CACA,KAAKC,iBAAL,CAAyB,KAAKJ,QAAL,CAAcK,UAAvC,CACA,KAAKC,kBAAL,CAA0B,KAAKN,QAAL,CAAcO,WAAxC,CAEA,MAAO,IAAIE,CAAAA,OAAJ,CAAYC,OAAO,EAAI,KAAKC,IAAL,CAAUD,OAAV,CAAvB,CACV,CACD,MAAO,IAAID,CAAAA,OAAJ,CAAYC,OAAO,EAAIA,OAAO,EAA9B,CACV,CAEDC,IAAI,CAACD,OAAD,CAAU,CACV,GAAI,CAACE,MAAM,CAACC,WAAZ,CAAyB,CACrBD,MAAM,CAACC,WAAP,CAAqB,IAAM,CACvBD,MAAM,CAACE,EAAP,CAAUC,IAAV,CAAe,CACXC,KAAK,CAAE,KAAKhB,QAAL,CAAciB,SADV,CAEXC,MAAM,CAAE,IAFG,CAGXC,KAAK,CAAE,KAHI,CAIXC,OAAO,CAAE,KAAKpB,QAAL,CAAcqB,WAJZ,CAAf,EAOA,KAAKlB,MAAL,CAAc,IAAd,CACA,KAAKF,QAAL,EAAiB,KAAKA,QAAL,EACpB,CACJ,CACD,KAAKA,QAAL,CAAgBS,OAAhB,CACA,KAAKY,SAAL,CAAe,gCAAkC,KAAKlB,iBAAvC,CAA2D,GAA3D,CAAiE,KAAKE,kBAAtE,CAA2F,SAA1G,CACH,CAEDE,MAAM,EAAG,CACL,MAAOI,CAAAA,MAAM,CAACE,EAAd,CACAS,QAAQ,CAACC,cAAT,CAAwB,SAAxB,EAAmChB,MAAnC,GACA,KAAKP,QAAL,CAAgB,IAAhB,CACA,MAAMO,MAAN,EACH,CA7CqC","sourcesContent":["import {JsLoader} from './js-loader'\r\n\r\nexport class FacebookSdk extends JsLoader {\r\n    constructor(settings = {}) {\r\n        super(settings)\r\n\r\n        this.callback = null\r\n    }\r\n\r\n    safeLoad() {\r\n        if (!this.loaded\r\n            || this.currentLocaleCode !== this.settings.localeCode\r\n            || this.currentCountryCode !== this.settings.countryCode) {\r\n            if (this.loaded) this.remove()\r\n\r\n            this.loaded = false\r\n            this.currentLocaleCode = this.settings.localeCode\r\n            this.currentCountryCode = this.settings.countryCode\r\n\r\n            return new Promise(resolve => this.load(resolve))\r\n        }\r\n        return new Promise(resolve => resolve())\r\n    }\r\n\r\n    load(resolve) {\r\n        if (!window.fbAsyncInit) {\r\n            window.fbAsyncInit = () => {\r\n                window.FB.init({\r\n                    appId: this.settings.client_id,\r\n                    status: true,\r\n                    xfbml: false,\r\n                    version: this.settings.api_version,\r\n                })\r\n\r\n                this.loaded = true\r\n                this.callback && this.callback()\r\n            }\r\n        }\r\n        this.callback = resolve\r\n        this.addScript('https://connect.facebook.net/' + this.currentLocaleCode + '_' + this.currentCountryCode + '/sdk.js')\r\n    }\r\n\r\n    remove() {\r\n        delete window.FB\r\n        document.getElementById('fb-root').remove()\r\n        this.callback = null\r\n        super.remove()\r\n    }\r\n}\r\n"],"file":"facebook-sdk.js"}