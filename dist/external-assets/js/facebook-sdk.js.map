{"version":3,"sources":["../../../src/external-assets/js/facebook-sdk.js"],"names":["FacebookSdk","settings","callback","loaded","currentLocaleCode","localeCode","currentCountryCode","countryCode","remove","Promise","resolve","load","window","fbAsyncInit","FB","init","appId","clientId","status","xfbml","version","apiVersion","addScript","document","getElementById","JsLoader"],"mappings":"iGAAA,qC,gnGAEaA,CAAAA,W,wGACT,sBAA2B,cAAfC,CAAAA,QAAe,2DAAJ,EAAI,mCACvB,uBAAMA,QAAN,EAEA,MAAKC,QAAL,CAAgB,IAAhB,CAHuB,YAI1B,C,mEAEU,iBACP,GAAI,CAAC,KAAKC,MAAN,EACG,KAAKC,iBAAL,GAA2B,KAAKH,QAAL,CAAcI,UAD5C,EAEG,KAAKC,kBAAL,GAA4B,KAAKL,QAAL,CAAcM,WAFjD,CAE8D,CAC1D,GAAI,KAAKJ,MAAT,CAAiB,KAAKK,MAAL,GAEjB,KAAKL,MAAL,CAAc,KAAd,CACA,KAAKC,iBAAL,CAAyB,KAAKH,QAAL,CAAcI,UAAvC,CACA,KAAKC,kBAAL,CAA0B,KAAKL,QAAL,CAAcM,WAAxC,CAEA,MAAO,IAAIE,CAAAA,OAAJ,CAAY,SAAAC,OAAO,QAAI,CAAA,MAAI,CAACC,IAAL,CAAUD,OAAV,CAAJ,CAAnB,CACV,CACD,MAAO,IAAID,CAAAA,OAAJ,CAAY,SAAAC,OAAO,QAAIA,CAAAA,OAAO,EAAX,CAAnB,CACV,C,kCAEIA,O,CAAS,iBACV,GAAI,CAACE,MAAM,CAACC,WAAZ,CAAyB,CACrBD,MAAM,CAACC,WAAP,CAAqB,UAAM,CACvBD,MAAM,CAACE,EAAP,CAAUC,IAAV,CAAe,CACXC,KAAK,CAAE,MAAI,CAACf,QAAL,CAAcgB,QADV,CAEXC,MAAM,CAAE,IAFG,CAGXC,KAAK,CAAE,KAHI,CAIXC,OAAO,CAAE,MAAI,CAACnB,QAAL,CAAcoB,UAJZ,CAAf,EAOA,MAAI,CAAClB,MAAL,CAAc,IAAd,CACA,MAAI,CAACD,QAAL,EAAiB,MAAI,CAACA,QAAL,EACpB,CACJ,CACD,KAAKA,QAAL,CAAgBQ,OAAhB,CACA,KAAKY,SAAL,CAAe,gCAAkC,KAAKlB,iBAAvC,CAA2D,GAA3D,CAAiE,KAAKE,kBAAtE,CAA2F,SAA1G,CACH,C,uCAEQ,CACL,MAAOM,CAAAA,MAAM,CAACE,EAAd,CACAS,QAAQ,CAACC,cAAT,CAAwB,SAAxB,EAAmChB,MAAnC,GACA,KAAKN,QAAL,CAAgB,IAAhB,CACA,qEACH,C,wBA7C4BuB,kB","sourcesContent":["import {JsLoader} from './js-loader'\r\n\r\nexport class FacebookSdk extends JsLoader {\r\n    constructor(settings = {}) {\r\n        super(settings)\r\n\r\n        this.callback = null\r\n    }\r\n\r\n    safeLoad() {\r\n        if (!this.loaded\r\n            || this.currentLocaleCode !== this.settings.localeCode\r\n            || this.currentCountryCode !== this.settings.countryCode) {\r\n            if (this.loaded) this.remove()\r\n\r\n            this.loaded = false\r\n            this.currentLocaleCode = this.settings.localeCode\r\n            this.currentCountryCode = this.settings.countryCode\r\n\r\n            return new Promise(resolve => this.load(resolve))\r\n        }\r\n        return new Promise(resolve => resolve())\r\n    }\r\n\r\n    load(resolve) {\r\n        if (!window.fbAsyncInit) {\r\n            window.fbAsyncInit = () => {\r\n                window.FB.init({\r\n                    appId: this.settings.clientId,\r\n                    status: true,\r\n                    xfbml: false,\r\n                    version: this.settings.apiVersion,\r\n                })\r\n\r\n                this.loaded = true\r\n                this.callback && this.callback()\r\n            }\r\n        }\r\n        this.callback = resolve\r\n        this.addScript('https://connect.facebook.net/' + this.currentLocaleCode + '_' + this.currentCountryCode + '/sdk.js')\r\n    }\r\n\r\n    remove() {\r\n        delete window.FB\r\n        document.getElementById('fb-root').remove()\r\n        this.callback = null\r\n        super.remove()\r\n    }\r\n}\r\n"],"file":"facebook-sdk.js"}