{"version":3,"sources":["../../src/store/cookie-store-handler.js"],"names":["CookieStoreHandler","settings","crypto","encryptExceptNames","namePrefix","store","temporarySettings","setTemporarySettings","name","value","retrieveTemporarySettings","setCookieRaw","expires","path","domain","sameSite","getCookieRaw","removeCookieRaw","names","forEach","removeRaw","naming","clearCookieRaw","window","location","protocol","StoreHandler"],"mappings":"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","sourcesContent":["import {StoreHandler} from './store-handler'\r\n\r\nexport class CookieStoreHandler extends StoreHandler {\r\n    constructor(settings, crypto = null, encryptExceptNames = null, namePrefix = '', store = null) {\r\n        super(crypto, encryptExceptNames, namePrefix, store)\r\n\r\n        this.settings = settings\r\n        this.temporarySettings = {}\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param temporarySettings\r\n     * @returns {CookieStoreHandler}\r\n     */\r\n    setTemporarySettings(temporarySettings = {}) {\r\n        this.temporarySettings = temporarySettings\r\n        return this\r\n    }\r\n\r\n    retrieveTemporarySettings() {\r\n        const temporarySettings = this.temporarySettings\r\n        this.setTemporarySettings()\r\n        return temporarySettings\r\n    }\r\n\r\n    setRaw(name, value) {\r\n        const settings = this.retrieveTemporarySettings()\r\n        return this.setCookieRaw(\r\n            name,\r\n            value,\r\n            this.expires(settings.expires),\r\n            this.path(settings.path),\r\n            this.domain(settings.domain),\r\n            this.sameSite(settings.sameSite),\r\n        )\r\n    }\r\n\r\n    setCookieRaw(name, value, expires = null, path = '/', domain = null, sameSite = 'lax') {\r\n        return this\r\n    }\r\n\r\n    getRaw(name) {\r\n        return this.getCookieRaw(name)\r\n    }\r\n\r\n    getCookieRaw(name) {\r\n        return null\r\n    }\r\n\r\n    removeRaw(name) {\r\n        const settings = this.retrieveTemporarySettings()\r\n        return this.removeCookieRaw(\r\n            name,\r\n            this.path(settings.path),\r\n            this.domain(settings.domain),\r\n        )\r\n    }\r\n\r\n    removeCookieRaw(name, path = '/', domain = null) {\r\n        return this\r\n    }\r\n\r\n    removeMany(names) {\r\n        const settings = this.retrieveTemporarySettings()\r\n        names.forEach(name => {\r\n            this.setTemporarySettings(settings)\r\n            this.removeRaw(this.naming(name))\r\n        })\r\n        return this\r\n    }\r\n\r\n    clearRaw() {\r\n        return this.clearCookieRaw()\r\n    }\r\n\r\n    clearCookieRaw() {\r\n        return this\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param {Date|Function|null} expires\r\n     * @returns {Date|null}\r\n     */\r\n    expires(expires = null) {\r\n        if (!expires) expires = this.settings.expires\r\n        return typeof expires === 'function' ? expires() : (expires ? expires : null)\r\n    }\r\n\r\n    path(path = '/') {\r\n        return path ? path : this.settings.path\r\n    }\r\n\r\n    domain(domain = null) {\r\n        return domain ? domain : this.settings.domain\r\n    }\r\n\r\n    sameSite(sameSite = 'lax') {\r\n        return sameSite ? sameSite : this.settings.sameSite\r\n    }\r\n\r\n    secure() {\r\n        return window.location.protocol === 'https:'\r\n    }\r\n}"],"file":"cookie-store-handler.js"}